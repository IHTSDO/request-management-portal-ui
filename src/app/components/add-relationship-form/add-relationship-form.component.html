<form (ngSubmit)="submitRequest()" #requestForm="ngForm">
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-3 form-group">
            <label for="summary" i18n>Summary</label>
            <input type="text" class="form-control" id="summary" required [(ngModel)]="request.summary" name="summary" #summary="ngModel" matTooltip="The content of the request in one sentence" i18n-matTooltip>
            <div [hidden]="summary.valid || summary.pristine" class="alert alert-danger" i18n>Summary is required</div>
        </div>
    </div>
    <div class="form-break mb-2"></div>
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="concept" i18n>Concept</label>
            <div class="input-group">
                <input type="text" class="form-control" id="concept" [(ngModel)]="request.concept" name="concept" [ngbTypeahead]="search" (selectItem)="populateConceptFields($event)" placeholder="Type to Search..." i18n-placeholder matTooltip="Search for concepts" i18n-matTooltip>
                <div class="input-group-append"><span class="input-group-text"><i class="fas fa-search"></i></span></div>
            </div>
        </div>
        <div class="offset-1 col-5 p-3 mb-3 form-group">
            <label for="conceptId" i18n>Concept ID</label>
            <input type="text" class="form-control" id="conceptId" required [(ngModel)]="request.conceptId" name="conceptId" #conceptId="ngModel" matTooltip="Is auto filled when searched" i18n-matTooltip>
            <div [hidden]="conceptId.valid || conceptId.pristine" class="alert alert-danger" i18n>Concept ID is required</div>
        </div>
        <div class="col-5 p-3 mb-3 form-group">
            <label for="conceptName" i18n>Concept Name</label>
            <input type="text" class="form-control" id="conceptName" required [(ngModel)]="request.conceptName" name="conceptName" #conceptName="ngModel" matTooltip="Is auto filled when searched" i18n-matTooltip>
            <div [hidden]="conceptName.valid || conceptName.pristine" class="alert alert-danger" i18n>Concept Name is required</div>
        </div>
        <div class="offset-1 col-5 p-3 mb-3 form-group">
            <label for="relationshipType" i18n>Relationship Type</label>
            <select class="form-control" id="relationshipType" required [(ngModel)]="request.relationshipType" name="relationshipType" #relationshipType="ngModel" matTooltip="If ‘Other’ please explain in Justification below" i18n-matTooltip>
                <option value="Is a" i18n>Is a</option>
                <option value="Associated Morphology" i18n>Associated Morphology</option>
                <option value="Finding Site" i18n>Finding Site</option>
                <option value="Procedure Site" i18n>Procedure Site</option>
                <option value="Unknown" i18n>Unknown</option>
                <option value="Other" i18n>Other</option>
            </select>
            <div [hidden]="relationshipType.valid || relationshipType.pristine" class="alert alert-danger" i18n>Relationship Type is required</div>
        </div>
        <div class="col-5 p-3 mb-0 form-group">
            <label for="newRelationship" i18n>Relationship Target</label>
            <div class="input-group">
                <input type="text" class="form-control" id="newRelationship" required [(ngModel)]="request.newRelationship" name="newRelationship" [ngbTypeahead]="search" #newRelationship="ngModel" placeholder="Type to Search..." i18n-placeholder matTooltip="Search for concepts" i18n-matTooltip>
                <div class="input-group-append"><span class="input-group-text"><i class="fas fa-search"></i></span></div>
            </div>
            <div [hidden]="newRelationship.valid || newRelationship.pristine" class="alert alert-danger" i18n>Relationship Target is required</div>
        </div>
    </div>
    <div class="form-break mb-2"></div>
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="justification" i18n>Justification</label>
            <input type="text" class="form-control" id="justification" [(ngModel)]="request.justification" name="justification" matTooltip="Detailed description of clinical or administrative need for the request" i18n-matTooltip>
        </div>
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="reference" i18n>Reference</label>
            <input type="text" class="form-control" id="reference" [(ngModel)]="request.reference" name="reference" matTooltip="Add one or more sources where the concept is described" i18n-matTooltip>
        </div>
    </div>
    <div class="text-end">
        <button type="button" class="btn btn-secondary p-3 px-5" (click)="requestForm.reset()" i18n>RESET</button>
        <button type="submit" class="btn btn-success p-3 px-5 m-5" [disabled]="!requestForm.form.valid" i18n>SUBMIT</button>
    </div>
</form>
