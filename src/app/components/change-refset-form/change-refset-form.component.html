<form (ngSubmit)="submitRequest()" #requestForm="ngForm">
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-3 form-group">
            <label for="summary">{{ 'form.summary' | translate }}</label>
            <span *ngIf="request.summary?.length > 0" class="float-end">{{255 - request.summary?.length}} {{ 'form.charactersLeft' | translate }}</span>

            <input type="text" class="form-control" id="summary" maxlength="255" required [(ngModel)]="request.summary" name="summary" #summary="ngModel" matTooltip="{{ 'tooltip.summary' | translate }}">
            <div [hidden]="summary.valid || summary.pristine" class="alert alert-danger">{{ 'required.summary' | translate }}</div>
        </div>
    </div>
    <div class="form-break mb-2"></div>
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="membersList">{{ 'form.membersList' | translate }}</label>
            <textarea type="text" class="form-control" id="membersList" [(ngModel)]="request.membersList" name="membersList" matTooltip="{{ 'tooltip.membersList' | translate }}"></textarea>
        </div>
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="eclQuery">{{ 'form.eclQuery' | translate }}</label>
            <textarea type="text" class="form-control" id="eclQuery" [(ngModel)]="request.eclQuery" name="eclQuery" matTooltip="{{ 'tooltip.eclQuery' | translate }}"></textarea>
        </div>
    </div>
    <div class="form-break mb-2"></div>
    <div class="row">
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="justification">{{ 'form.justification' | translate }}</label>
            <span *ngIf="request.justification?.length > 0" class="float-end"><ng-container *ngIf="request.justification?.length > 32512">{{32767 - request.justification?.length}} {{ 'form.charactersLeft' | translate }}</ng-container></span>
            <textarea type="text" class="form-control" id="justification" maxlength="32767" [(ngModel)]="request.justification" name="justification" matTooltip="{{ 'tooltip.justification' | translate }}"></textarea>
        </div>
        <div class="offset-1 col-10 p-3 mb-0 form-group">
            <label for="reference">{{ 'form.reference' | translate }}</label>
            <span *ngIf="request.reference?.length > 0" class="float-end">{{255 - request.reference?.length}} {{ 'form.charactersLeft' | translate }}</span>
            <textarea type="text" class="form-control" id="reference" maxlength="255" [(ngModel)]="request.reference" name="reference" matTooltip="{{ 'tooltip.reference' | translate }}"></textarea>
        </div>
    </div>
    <div class="text-end">
        <button type="button" class="btn btn-secondary p-3 px-5" (click)="requestForm.reset()">{{ 'form.reset' | translate | uppercase}}</button>
        <button type="submit" class="btn btn-success p-3 px-5 m-5" [disabled]="!requestForm.form.valid">{{ 'form.submit' | translate | uppercase}}</button>
    </div>
</form>
